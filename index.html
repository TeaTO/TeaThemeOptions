<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Tea to wp by Takeatea</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Tea to wp</h1>
        <p class="header">The Tea Theme Options (or &quot;Tea TO&quot;) allows you to easily add professional looking theme options panels to your WordPress theme.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/Takeatea/tea_to_wp/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/Takeatea/tea_to_wp/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/Takeatea/tea_to_wp">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/Takeatea">Takeatea</a></p>


      </header>
      <section>
        <h1>Tea Theme Options</h1>

<p>The Tea Theme Options (or <strong>Tea TO</strong>) allows you to easily add professional looking theme options panels to your WordPress theme. <strong>Tea TO</strong> uses the <a href="http://codex.wordpress.org/Transients_API">Transient Wordpress API</a> and puts all data in cache.<br>
This document contains information on how to download, install, and start using the <strong>Tea TO</strong> Wordpress project.<br>
NOTA: <strong>Tea TO</strong> is built for <a href="http://wordpress.org" title="CMS Wordpress">Wordpress</a> v3.x and uses the Wordpress built-in pages.</p>

<h2>1) Installing the theme roller</h2>

<p><strong>To get started, checkout</strong> <a href="https://github.com/takeatea/tea_to_wp">https://github.com/takeatea/tea_to_wp</a> into the <code>wp-content/your_template/__YOUR_TEA_TO_CUSTOM_FOLDER__/</code></p>

<pre><code>git clone https://github.com/takeatea/tea_to_wp __YOUR_TEA_TO_CUSTOM_FOLDER__
</code></pre>

<p>Check your new <code>__YOUR_TEA_TO_CUSTOM_FOLDER__</code> folder is created in your template directory.<br>
Include the <code>tea-theme-options.php</code> file in your <code>functions.php</code></p>

<pre><code>include('__YOUR_TEA_TO_CUSTOM_FOLDER__/tea-theme-options.php');
</code></pre>

<h2>2) Create a new Tea_Theme_Options object and set details</h2>

<p>Before starting, in your <code>functions.php</code> instanciate a new object with an uniq identifier:</p>

<pre><code>$tea = new Tea_Theme_Options('your_identifier');
</code></pre>

<p>And set details:</p>

<pre><code>$tea-&gt;__setDuration(86400); //Will stock transient for 86400sec, eq. to 24h
$tea-&gt;__setDirectory('__YOUR_TEA_TO_CUSTOM_FOLDER__'); //Will define the current Tea TO directory.
</code></pre>

<p>NOTA: by default, the Tea TO will consider the <code>tea_theme_options</code> folder.</p>

<h2>3) Let's roll!</h2>

<p>Create your new first page with global details (as capability, icon, bigicon and description if you want):</p>

<pre><code>$tea-&gt;addPage(array(
    //used in your page
    'title' =&gt; 'My first page',
    //used in the admin menu
    'name' =&gt; 'First page',
    //a writer can use this page. If you want to give access only to the admin, use 'admin' instead
    'capability' =&gt; 'edit_pages',
    //used in the admin menu
    'icon' =&gt; get_template_directory_uri() . '/img/admin/settings_16.png',
    //used in your page
    'bigicon' =&gt; get_template_directory_uri() . '/img/admin/settings_32.png',
    //used in your page
    'description' =&gt; 'Here is a description of my first page'
));
</code></pre>

<p>Add all used fields in the last created page (to get definition fields, see below the <a href="#5-adding-fields">Adding fields</a> section):</p>

<pre><code>$tea-&gt;addFields(array(
    array(
        'type' =&gt; 'text',
        'title' =&gt; 'My first text title',
        'id' =&gt; 'my_first_text_id',
        'std' =&gt; 'My default text value'
        'description' =&gt; 'My first text description'
    ),
    array(
        'type' =&gt; 'password',
        'title' =&gt; 'My first password field',
        'id' =&gt; 'my_first_password_id',
        'description' =&gt; 'My first password description'
    )
));
</code></pre>

<p>Create a new sub page with usefull parameters (add description if you need it). Try to put uniq slug for each array:</p>

<pre><code>$tea-&gt;addSubpage(array(
    'title' =&gt; 'Subpage Options',
    'name' =&gt; 'Homepage',
    'slug' =&gt; '_homepage'
));
</code></pre>

<p>Add all used fields in the last created subpage (to get definition fields, see below the <a href="#5-adding-fields">Adding fields</a> section):</p>

<pre><code>$tea-&gt;addFields(array(
    array(
        'type' =&gt; 'text',
        'title' =&gt; 'My second text title',
        'id' =&gt; 'my_second_text_id',
        'std' =&gt; 'My other default text value'
        'description' =&gt; 'My second text description'
    ),
    array(
        'type' =&gt; 'checkbox',
        'title' =&gt; 'My first checkbox field',
        'id' =&gt; 'my_first_checkbox_id',
        'std' =&gt; array('check1', 'check2'),
        'description' =&gt; 'My first checkbox description',
        'options' =&gt; array(
            'check1' =&gt; 'First checbox',
            'check2' =&gt; 'Second checbox',
            'check3' =&gt; 'Third checbox'
        )
    )
));
</code></pre>

<h2>4) Building menus</h2>

<p>The last step is to build menus and get your pages available in the admin menu.</p>

<pre><code>$tea-&gt;buildMenus();
</code></pre>

<h2>5) Adding fields</h2>

<p>Adding fields is quite simple. All you have to do is to create an array and define all inputs nedded in your Wordpress template.<br>
NOTA: the <strong>Tea TO</strong> uses <a href="http://codex.wordpress.org/Transients_API">Transient Wordpress API</a> to stock options.</p>

<p>All available types are:</p>

<p><strong>Display inputs</strong>:</p>

<ul>
<li>Br, display a simple breakline with clear css class</li>
<li>Heading, display a simple title</li>
<li>Hr, equivalent to the br input, but display an horizontal line</li>
</ul><p><strong>Normal inputs</strong>:</p>

<ul>
<li>Checkbox</li>
<li>Hidden</li>
<li>Multiselect</li>
<li>Password</li>
<li>Radio</li>
<li>Select</li>
<li>Text (or Email or Search or Url)</li>
<li>Textarea</li>
<li>Upload (for images only)</li>
</ul><p><strong>Special inputs</strong>:</p>

<ul>
<li>Category, offers a WP category listing with multiselect option if needed</li>
<li>Color, offers an input text with colorpicker</li>
<li>Font, offers a list of font choices with image labels (uniq choices)</li>
<li>Group, offers the possibility to add multiple inputs</li>
<li>Image, offers a list of choices with image labels (uniq choices)</li>
<li>Menu, display menus as information (no action required)</li>
<li>Number (or Range), display new HTML5 inputs</li>
<li>Page, display pages as information (no action required)</li>
<li>Sidebar, display widgets as information (no action required)</li>
<li>Social, display a list of wanted social buttons with multichoice</li>
<li>Typeahead, offers an input text with ajax call <strong>IN PROGRESS</strong>
</li>
</ul><h2>6) Display inputs</h2>

<p>Adding a <code>br</code></p>

<pre><code>array(
    'type' =&gt; 'br'
)
</code></pre>

<p>Adding a <code>heading</code></p>

<pre><code>array(
    'type' =&gt; 'heading',
    'title' =&gt; 'Heading'
)
</code></pre>

<p>Adding a <code>hr</code></p>

<pre><code>array(
    'type' =&gt; 'hr'
)
</code></pre>

<h2>7) Normal inputs</h2>

<p>Adding a <code>checkbox</code></p>

<pre><code>array(
    'type' =&gt; 'checkbox', //define the input type
    'title' =&gt; 'Checkbox', //define the title block
    'id' =&gt; 'simple_checkbox', //define the uniq ID
    'std' =&gt; array('mountain', 'beach'), //define the default choices
    'description' =&gt; 'Simple description to checkbox panel', //define the description block
    //define the options
    'options' =&gt; array(
        'mountain' =&gt; 'Mountain', //value =&gt; label
        'sea' =&gt; 'Sea',
        'beach' =&gt; 'Beach'
    )
)
</code></pre>

<p>Adding a <code>hidden</code></p>

<pre><code>array(
    'type' =&gt; 'hidden',
    'id' =&gt; 'simple_hidden',
    'std' =&gt; 'Simple hidden'
)
</code></pre>

<p>Adding a <code>multiselect</code></p>

<pre><code>array(
    'type' =&gt; 'multiselect',
    'title' =&gt; 'Multiselect',
    'id' =&gt; 'simple_multiselect',
    'std' =&gt; array('mountain', 'beach'),
    'description' =&gt; 'Simple description to multiselect panel',
    'options' =&gt; array(
        'mountain' =&gt; 'Mountain',
        'sea' =&gt; 'Sea',
        'beach' =&gt; 'Beach'
    )
)
</code></pre>

<p>Adding a <code>password</code></p>

<pre><code>array(
    'type' =&gt; 'password',
    'title' =&gt; 'Password',
    'id' =&gt; 'simple_password',
    'placeholder' =&gt; 'Simple placeholder',
    'description' =&gt; 'Simple description to password panel'
)
</code></pre>

<p>Adding a <code>radio</code></p>

<pre><code>array(
    'type' =&gt; 'radio',
    'title' =&gt; 'Radio buttons',
    'id' =&gt; 'simple_radio',
    'std' =&gt; 'sea',
    'description' =&gt; 'Simple description to radio buttons panel',
    'options' =&gt; array(
        'mountain' =&gt; 'Mountain',
        'sea' =&gt; 'Sea',
        'beach' =&gt; 'Beach'
    )
)
</code></pre>

<p>Adding a <code>select</code></p>

<pre><code>array(
    'type' =&gt; 'select',
    'title' =&gt; 'Select',
    'id' =&gt; 'simple_select',
    'std' =&gt; 'sea',
    'description' =&gt; 'Simple description to select panel',
    'options' =&gt; array(
        'mountain' =&gt; 'Mountain',
        'sea' =&gt; 'Sea',
        'beach' =&gt; 'Beach'
    )
)
</code></pre>

<p>Adding a <code>text</code><br>
NOTA: you can define the maxlength optional attribute.</p>

<pre><code>array(
    'type' =&gt; 'text',
    'title' =&gt; 'Text',
    'id' =&gt; 'simple_text',
    'std' =&gt; 'Simple text',
    'placeholder' =&gt; 'Simple placeholder',
    'description' =&gt; 'Simple description to text panel',
    'maxlength' =&gt; 7
)
</code></pre>

<p>Adding a <code>textarea</code><br>
NOTA: you can use <code>email</code>, <code>search</code> or <code>url</code> type to use the new HTML5 inputs</p>

<pre><code>array(
    'type' =&gt; 'textarea',
    'title' =&gt; 'Textarea',
    'id' =&gt; 'simple_textarea',
    'std' =&gt; 'Simple textarea',
    'placeholder' =&gt; 'Simple placeholder',
    'description' =&gt; 'Simple description to textarea panel'
)
</code></pre>

<p>Adding an <code>upload</code><br>
NOTA: the upload input uses the Media file uploader or Wordpress.</p>

<pre><code>array(
    'type' =&gt; 'upload',
    'title' =&gt; 'Upload',
    'id' =&gt; 'simple_upload',
    'std' =&gt; get_template_directory_uri() . 'img/admin/default.png',
    'description' =&gt; 'Simple description to upload panel'
)
</code></pre>

<h2>8) Special inputs</h2>

<p>Adding a <code>category</code><br>
NOTA: the category input has a special method which detects if the ID has the <code>__category</code> term to register in transient more than expected, as the category title, slug and category.</p>

<pre><code>array(
    'type' =&gt; 'category',
    'title' =&gt; 'Category',
    'id' =&gt; 'simple_cat__category', //if you need the id only, don't use the `__category` term
    'multiselect' =&gt; true //Optional: to "false" by default
)
</code></pre>

<p>Adding a <code>color</code></p>

<pre><code>array(
    'type' =&gt; 'color',
    'title' =&gt; 'Color',
    'id' =&gt; 'simple_color',
    'std' =&gt; '#123456',
    'description' =&gt; 'Simple description to color panel'
)
</code></pre>

<p>Adding an <code>font</code><br>
NOTA: the <strong>Tea TO</strong> package offers a large set of fonts. If you want them, set the <code>default</code> attribute to <code>true</code>.</p>

<pre><code>array(
    'type' =&gt; 'font',
    'title' =&gt; 'Font',
    'id' =&gt; 'simple_font',
    'std' =&gt; 'font1',
    'description' =&gt; 'Simple description to font panel',
    'default' =&gt; true,
    'options' =&gt; array(
        'font1' =&gt; get_template_directory_uri() . '/img/font1.png',
        'font2' =&gt; get_template_directory_uri() . '/img/font2.png',
        'font3' =&gt; get_template_directory_uri() . '/img/font3.png'
    )
)
</code></pre>

<p>Adding a <code>group</code><br>
NOTA: groups are able to display to 4 input columns per line. You can break a line by adding more than 4 inputs or with a <code>br</code>, <code>heading</code> or <code>hr</code> input.</p>

<pre><code>array(
    'type' =&gt; 'group',
    'title' =&gt; 'Group',
    'description' =&gt; 'Simple optional group description',
    'contents' =&gt; array(
        array(
            'type' =&gt; 'radio',
            'title' =&gt; 'Radio group',
            'id' =&gt; 'simple_radio_group',
            'std' =&gt; 'beach',
            'description' =&gt; 'Simple description to radio group panel',
            'options' =&gt; array(
                'mountain' =&gt; 'Mountain',
                'sea' =&gt; 'Sea',
                'beach' =&gt; 'Beach'
            )
        ),
        array(
            'type' =&gt; 'text',
            'title' =&gt; 'Text group',
            'id' =&gt; 'simple_text_group',
            'std' =&gt; 'Simple text group',
            'description' =&gt; 'Simple description to text group panel'
        ),
        array(
            'type' =&gt; 'br'
        ),
        array(
            'type' =&gt; 'sidebar',
            'title' =&gt; 'Sidebar group',
            'id' =&gt; '1st-homepage-content-block',
            'description' =&gt; 'Simple description to text group panel'
        )
    )
)
</code></pre>

<p>Adding an <code>image</code><br>
NOTA: the <strong>Tea TO</strong> package offers a large set of background patterns. If you want them, set the <code>default</code> attribute to <code>true</code>.</p>

<pre><code>array(
    'type' =&gt; 'image',
    'title' =&gt; 'Image',
    'id' =&gt; 'simple_image',
    'std' =&gt; 'beach',
    'description' =&gt; 'Simple description to image panel',
    'multiselect' =&gt; true, //if you need more than one choice
    'height' =&gt; 25, //if you need to define a special height (60px by default)
    'width' =&gt; 140, //if you need to define a special width (150px by default)
    'default' =&gt; true,
    'options' =&gt; array(
        get_template_directory_uri() . '/img/mountain.png',
        get_template_directory_uri() . '/img/sea.png',
        get_template_directory_uri() . '/img/beach.png'
    )
)
</code></pre>

<p>Adding an <code>menu</code></p>

<pre><code>array(
    'type' =&gt; 'menu',
    'title' =&gt; 'Menu',
    'id' =&gt; 'id_of_the_menu_expected',
    'description' =&gt; 'Simple description to menu panel'
)
</code></pre>

<p>Adding a <code>number</code><br>
NOTA: you can use <code>range</code> type to use the new HTML5 inputs</p>

<pre><code>array(
    'type' =&gt; 'number',
    'title' =&gt; 'Number',
    'id' =&gt; 'simple_number',
    'std' =&gt; 'Simple number',
    'min' =&gt; 12, //'1' by default
    'max' =&gt; 120, //'50' by default
    'step' =&gt; 10, //'1' by default
    'description' =&gt; 'Simple description to number panel'
)
</code></pre>

<p>Adding a <code>page</code></p>

<pre><code>array(
    'type' =&gt; 'page',
    'title' =&gt; 'Page',
    'id' =&gt; 'simple_page',
    'multiselect' =&gt; true
)
</code></pre>

<p>Adding a <code>sidebar</code></p>

<pre><code>array(
    'type' =&gt; 'sidebar',
    'title' =&gt; 'Sidebar',
    'id' =&gt; '1st-homepage-content-block', //define the sidebar id
    'description' =&gt; 'Simple description to text panel'
)
</code></pre>

<p>Adding a <code>social</code><br>
NOTA: use the <code>wanted</code> attribute to list all the wanted social buttons, from the list below.<br><code>addthis</code>, <code>deviantart</code>, <code>dribbble</code>, <code>facebook</code>, <code>flickr</code>, <code>forrst</code>, <code>friendfeed</code>, <code>googleplus</code>, <code>lastfm</code>, <code>linkedin</code>, <code>pinterest</code>, <code>rss</code>, <code>skype</code>, <code>tumblr</code>, <code>twitter</code>, <code>vimeo</code></p>

<pre><code>array(
    'type' =&gt; 'social',
    'title' =&gt; 'Social',
    'id' =&gt; 'simple_social',
    'std' =&gt; array('facebook', 'twitter', 'googleplus', 'addthis'),
    'description' =&gt; 'Simple description to social panel',
    'wanted' =&gt; array( //Define here all the wanted social buttons in your order
        'facebook',
        'twitter',
        'googleplus',
        'pinterest',
        'addthis'
    )
)
</code></pre>

<p>Adding an <code>typeahead</code> <strong>IN PROGRESS</strong></p>

<pre><code>array(
    'type' =&gt; 'typeahead',
    'title' =&gt; 'Typeahead',
    'id' =&gt; 'simple_typeahead',
    'std' =&gt; 'Simple typeahead',
    'description' =&gt; 'Simple description to typeahead panel',
    'ajaxurl' =&gt; 'name_of_your_ajax_url_to_parse' //define the ajax url to parse
)
</code></pre>

<h2>9) Get data from Transient</h2>

<p>To get your data back in your theme, you have to know the ID of what you want to retrieve.<br>
Don't forget that the <strong>Tea TO</strong> uses the Transient Wordpress API, and get back data is quite simple.<br>
In this example, we will display the <code>simple_text</code> data on the screen:</p>

<pre><code>//`simple_text` is the ID of our text input, defined above
$mytext = get_transient('simple_text'); //get the data from the cache via Transient API
if (false === $mytext) { //checks if the `simple_text` is in cache. And if not...
    $mytext_from_option = get_option('simple_text'); //get data from DB
    $mytext = false === $mytext_from_option ? 'default text value' : $mytext_from_option; //check if the data is in the DB
    set_transient('simple_text', $mytext, 86400); //set the data in the cache via Transient API with name - value - time in cache
}
echo $mytext; //display the data
</code></pre>

<p>You can do more better. Try to test your value before any manipulation.</p>

<h2>10) That's all folkes!</h2>

<p>Here is the latest step: check quickly your new panel options.</p>

<ul>
<li>Go to your <code>your_wp_website/wp-admin</code>
</li>
<li>Log in to your admin panel</li>
<li><strong>See that you have a new Link in your admin sidebar</strong></li>
</ul><p>That's all to begin working on <strong>Tea TO</strong></p>

<h2>10) Authors</h2>

<p><strong>Take a Tea</strong></p>

<ul>
<li><a href="http://twitter.com/takeatea">http://twitter.com/takeatea</a></li>
<li><a href="http://github.com/takeatea">http://github.com/takeatea</a></li>
</ul><p><strong>Achraf Chouk</strong></p>

<ul>
<li><a href="http://twitter.com/crewstyle">http://twitter.com/crewstyle</a></li>
<li><a href="http://github.com/crewstyle">http://github.com/crewstyle</a></li>
</ul><h2>11) Copyright and license</h2>

<p>Copyright 2012 <a href="http://takeatea.com" title="Take a tea">Take a tea</a><br>
Infusé par Take a tea ;)</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36029271-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>