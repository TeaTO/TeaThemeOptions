!function(a){"use strict";var b=function(a,b){var c=this;c.$el=a,c.options=b,c.open()};b.prototype.$el=null,b.prototype.options=null,b.prototype.open=function(){var b=this;1!=b.$el.data("isShown")&&(a(".tea-modal-backdrop").addClass("opened"),b.$el.show(),b.$el.data("isShown",!0),b.$el.find("header .close").on("click",a.proxy(b.close,b)),a(".tea-modal-backdrop").on("click",a.proxy(b.close,b)))},b.prototype.close=function(b){b.preventDefault();var c=this;c.$el.hide(),c.$el.data("isShown",!1),a(".tea-modal-backdrop").removeClass("opened"),"function"==typeof c.options.afterclose&&c.options.afterclose()};var c={init:function(c){if(!this.length)return!1;var d={afterclose:""};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_modal=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_modal"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b,c){var d=this;d.$el=b,d.options=c;var e=(c.container,c.items,c.closest,c.selected,"INPUT"==b[0].nodeName?"change":"click");d.$el.on(e,a.proxy(d.click,d))};b.prototype.click=function(b){b.preventDefault();var c=this,d=null;d=c.$el.attr("data-target")?a(""+c.$el.attr("data-target")):c.$el.closest(c.options.container).find(c.options.items),d.attr("checked",c.$el.is(":checked")),c.$el.is(":checked")?d.closest(c.options.closest).addClass(c.options.selected):d.closest(c.options.closest).removeClass(c.options.selected)};var c={init:function(c){if(!this.length)return!1;var d={container:".container",items:'input[type="checkbox"]',closest:"label",selected:"selected"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_checkall=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_checkall"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b,c){var d=c.container,e=c.closest,f=c.selected;a.each(b,function(){var b=a(this);b.bind("change",function(){"radio"==b.attr("type")?(b.closest(d).find("."+f).removeClass(f),b.closest(e).addClass(f)):"checkbox"==b.attr("type")&&(b.is(":checked")?b.closest(e).addClass(f):b.closest(e).removeClass(f))})})},c={init:function(c){if(!this.length)return!1;var d={container:".inside",closest:"label",selected:"selected"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_checkit=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_checkit"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b){var c=jQuery().wpColorPicker?!0:!1;a.each(b,function(){var b=a(this);if(c)b.wpColorPicker({change:function(){b.val(b.wpColorPicker("color"))},clear:function(){b.val("NONE")}});else{var d=b.attr("id"),e=a(document.createElement("div")).attr("id",d+"_farb");e.insertAfter(b),e.farbtastic("#"+d)}})},c={init:function(){return this.length?this.each(function(){new b(a(this))}):!1},update:function(){},destroy:function(){}};a.fn.tea_color=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_color"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b,c){var d=this;d.$el=b,d.options=c,d.options.wpid=d.options.media.model.settings.post.id,d.$el.find("a.add_item").on("click",a.proxy(d.add_item,d)),d.$el.find("a.del_item").on("click",a.proxy(d.del_item,d)),d.$el.parent("div").find("a.del_all_items").on("click",a.proxy(d.del_all_items,d))};b.prototype.$el=null,b.prototype.options=null,b.prototype.add_item=function(b){b.preventDefault();var c=this,d=c.$el.find(".upload-time"),e=c.$el.find(".upload_image_result"),f=(c.$el,c.options.media),g=d.attr("data-target"),h=f.frames.file_frame=f({title:c.options.title,library:{type:"image"},multiple:!0});h.on("open",function(){if(e.length){var b=h.state().get("selection");a.each(e.find(".item"),function(){var c=f.attachment(a(this).attr("data-id"));c.fetch(),b.add(c?[c]:[])})}}),h.on("select",function(){for(var b=h.state().get("selection"),d=b.toJSON(),i="",j=null,k=null,l=null,m=null,n=null,o=null,p=0,q=d.length;q>p;p++)e.find('.item[data-id="'+d[p].id+'"]').length||(i=g+"_"+d[p].id+"_"+Math.floor(99999999*Math.random()),j=a(document.createElement("div")).addClass("item").attr("data-id",d[p].id),o=a(document.createElement("a")).addClass("del_image").attr({href:"#","data-target":g}).html("&times;"),k=a(document.createElement("input")).attr({type:"hidden",name:g+"["+d[p].id+"][0]",value:d[p].url}),l=a(document.createElement("input")).attr({type:"hidden",name:g+"["+d[p].id+"][1]",value:d[p].id}),m=a(document.createElement("img")).attr({src:d[p].url,id:d[p].id}),n=a(document.createElement("div")).addClass("gallery-editor").html('<textarea rows="4" class="wp-editor-area" name="'+g+"["+d[p].id+'][2]" id="'+i+'"></textarea>'),o.on("click",a.proxy(c.del_item,c)),j.append(o),j.append(k),j.append(l),j.append(m),j.append(n),j.insertBefore(e.find(".upload-time")));f.model.settings.post.id=c.options.wpid,delete this}),h.open()},b.prototype.del_item=function(b){b.preventDefault();var c=this,d=a(b.target||b.currentTarget),e=d.parent(),f=c.$el.find(".upload-time");f.removeClass("item-added"),e.css("background",c.options.color),e.animate({opacity:"0"},"slow",function(){e.remove()}),c.$el.find(".upload_image_result .item").length||a("#"+d.attr("data-target")).val("NONE")},b.prototype.del_all_items=function(b){b.preventDefault();var c=this,d=a(b.target||b.currentTarget),e=a("#"+d.attr("data-target")),f=a("#"+d.attr("data-target")+"_gallery_content").find(".upload_image_result .item");e.val("NONE"),a.each(f,function(){var b=a(this);b.css("background",c.options.color),b.animate({opacity:"0"},"slow",function(){b.remove()})})};var c={init:function(c){if(!this.length)return!1;var d={wpid:null,media:null,target:null,color:"#ffaaaa",title:"Title"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_gallery=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_gallery"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(a,b){var c=b.parent,d=b.count,e=b.model;a.on("click",function(b){b.preventDefault();var f=a.closest(c),g=f.find("> "+d).length,h=f.find("> "+e).html();h=h.replace(/__OPTNUM__/g,g),a.before(h)})},c={init:function(c){if(!this.length)return!1;var d={parent:".label-edit-options",count:".label-option",model:".label-model"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_labelize=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_labelize"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b){a.each(b,function(){var b=a(this),c=a(document.createElement("<output></output>"));c.insertAfter(b),b.bind("change",function(){c.text(b.val())})})},c={init:function(){return this.length?this.each(function(){new b(a(this))}):!1},update:function(){},destroy:function(){}};a.fn.tea_range=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_range"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b,c){var d=this;d.$el=b,d.options=c,d.$el.find("a.add_social").on("click",a.proxy(d.open_social,d))};b.prototype.$el=null,b.prototype.options=null,b.prototype.networks=[],b.prototype.open_social=function(b){b.preventDefault();var c=this;c.networks=[],c.$modal=a(a(c.options.modal).html()).clone(),c.$modal.insertBefore(c.options.modal).addClass("social-modal");var d=c.$el.find(c.options.items),e=c.$modal.find(".content a");a.each(d,function(){c.networks[a(this).attr("data-network")]=!0}),a.each(e,function(){var b=a(this);b.attr("data-network")in c.networks?(b.removeClass("button-secondary").addClass("button-primary"),b.on("click",a.proxy(c.remove_social,c))):b.on("click",a.proxy(c.add_social,c))}),c.$modal.tea_modal({afterclose:function(){c.$modal.remove()}})},b.prototype.add_social=function(b){b.preventDefault();var c=this,d=a(b.target),e="I"==d[0].nodeName?d.closest("a"):d,f=c.$el.find(c.options.content),g=e.attr("data-network");if(f.find('a[data-network="'+g+'"]').length)return!1;var h=a(document.createElement("div")).attr("data-network",g),i=a(document.createElement("label")).attr("for",c.options.label+"_"+g),j=a(document.createElement("i")).addClass("fa fa-"+g+" fa-lg"),k=a(document.createElement("input")).attr({type:"hidden",name:c.options.label+"__checkbox["+g+"]",value:"0"}),l=a(document.createElement("input")).attr({type:"checkbox",name:c.options.label+"["+g+"][display]",id:c.options.label+"_"+g,value:g});if(l.tea_checkit({container:".inside",closest:"label",selected:"selected"}),i.append(k),i.append(l),i.append(j),h.append(i),e.attr("data-label")){var m=a(document.createElement("input")).attr({type:"text",name:c.options.label+"["+g+"][label]",placeholder:e.attr("data-label"),value:""});h.append(m)}if(e.attr("data-link")){var n=a(document.createElement("input")).attr({type:"text",name:c.options.label+"["+g+"][link]",placeholder:e.attr("data-link"),value:""});h.append(n)}f.append(h),e.removeClass("button-secondary").addClass("button-primary").off("click",a.proxy(c.add_social,c)).on("click",a.proxy(c.remove_social,c))},b.prototype.remove_social=function(b){b.preventDefault();var c=this,d=a(b.target),e="I"==d[0].nodeName?d.closest("a"):d,f=c.$el.find(c.options.content+' > div[data-network="'+e.attr("data-network")+'"]');f.css("backgroundColor",c.options.color),f.animate({opacity:"0"},"slow",function(){f.remove(),e.removeClass("button-primary").addClass("button-secondary").off("click",a.proxy(c.remove_social,c)).on("click",a.proxy(c.add_social,c))})};var c={init:function(c){if(!this.length)return!1;var d={color:"#ffaaaa",content:"fieldset",label:"modal-id",items:"fieldset > div",modal:"#modal-socials"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_social=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_social"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";var b=function(b,c){var d=this;d.$el=b,d.options=c,d.options.wpid=d.options.media.model.settings.post.id,d.options.multiple?(d.$el.find("a.add_image").on("click",a.proxy(d.add_multiple_images,d)),d.$el.find("a.del_image").on("click",a.proxy(d.del_multiple_images,d)),d.$el.parent("div").find("a.del_all_images").on("click",a.proxy(d.del_all_images,d))):(d.$el.find("a.add_image").on("click",a.proxy(d.add_single_image,d)),d.$el.find("a.del_image").on("click",a.proxy(d.del_single_image,d)))};b.prototype.$el=null,b.prototype.options=null,b.prototype.add_single_image=function(b){b.preventDefault();var c=this,d=c.$el.find(".upload-time"),e=c.$el.find(".upload_image_result"),f=(c.$el,c.options.media),g=d.attr("data-target"),h=f.frames.file_frame=f({title:c.options.title,library:{type:c.options.type},multiple:!1});h.on("open",function(){if(e.length){h.state().get("selection")}}),h.on("select",function(){var b=h.state().get("selection");e.find("figure").remove();var i=b.first().toJSON(),j=a(document.createElement("figure")),k=a(document.createElement("a")).addClass("del_image").attr({href:"#","data-target":g}).html("&times;"),l=a(document.createElement("img")).attr({src:i.url,id:i.id,alt:""});j.append(l),j.append(k),j.insertBefore(e.find("div.upload-time")),k.on("click",a.proxy(c.del_single_image,c)),a("#"+g).val(""+i.url),d.addClass("item-added"),f.model.settings.post.id=c.options.wpid,delete this}),h.open()},b.prototype.add_multiple_images=function(b){b.preventDefault();var c=this,d=c.$el.find(".upload-time"),e=c.$el.find(".upload_image_result"),f=(c.$el,c.options.media),g=d.attr("data-target"),h=f.frames.file_frame=f({title:c.options.title,library:{type:c.options.type},multiple:!0});h.on("open",function(){if(e.length){var b=h.state().get("selection");a.each(e.find("img"),function(){var c=f.attachment(a(this).attr("data-id"));c.fetch(),b.add(c?[c]:[])})}}),h.on("select",function(){for(var b=h.state().get("selection"),d=b.toJSON(),i="",j=null,k=null,l=null,m=0,n=d.length;n>m;m++)e.find('li[data-id="'+d[m].id+'"]').length||(i+=d[m].id+";"+d[m].url+"||",j=a(document.createElement("li")).attr("data-id",d[m].id),k=a(document.createElement("img")).attr({src:d[m].url,id:d[m].id}),l=a(document.createElement("a")).addClass("del_image").attr({href:"#","data-target":g}).html("&times;"),l.on("click",a.proxy(c.del_multiple_images,c)),j.append(k),j.append(l),j.insertBefore(e.find("li.upload-time")));a("#"+g).val(""+i),f.model.settings.post.id=c.options.wpid,delete this}),h.open()},b.prototype.del_single_image=function(b){b.preventDefault();var c=this,d=a(b.target||b.currentTarget),e=d.parent(),f=c.$el.find(".upload-time"),g=a("#"+d.attr("data-target"));g.val("NONE"),e.css("background",c.options.color),e.animate({opacity:"0"},"slow",function(){e.remove(),f.removeClass("item-added")})},b.prototype.del_multiple_images=function(b){b.preventDefault();var c=this,d=a(b.target||b.currentTarget),e=d.parent(),f=a("#"+d.attr("data-target")),g=e.find("img").attr("id")+";"+e.find("img").attr("src")+"||",h=f.val().replace(g,"");h=""==h?"NONE":h,f.val(""+h),e.css("background",c.options.color),e.animate({opacity:"0"},"slow",function(){e.remove()})},b.prototype.del_all_images=function(b){b.preventDefault();var c=this,d=a(b.target||b.currentTarget),e=a("#"+d.attr("data-target")),f=a("#"+d.attr("data-target")+"_upload_content").find(".upload_image_result li:not(.upload-time)");e.val("NONE"),a.each(f,function(){var b=a(this);b.css("background",c.options.color),b.animate({opacity:"0"},"slow",function(){b.remove()})})};var c={init:function(c){if(!this.length)return!1;var d={wpid:null,media:null,target:null,multiple:!1,color:"#ffaaaa",title:"Title",type:"image"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tea_upload=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on tea_upload"),!1):c.init.apply(this,arguments)}}(window.jQuery),function(a){"use strict";a(document).ready(function(){a.each(a(".tea-main-nav .tea-menu-resp, .tea-main-nav .close a"),function(){{var b=a(this),c=a("body"),d=a(".tea-main-nav ul");d.outerWidth()}b.bind("click",function(b){b.preventDefault(),c.hasClass("opened")?c.removeClass("opened"):c.addClass("opened"),a(window).bind("orientationchange",function(){c.removeClass("opened")})})}),a(".label-edit-options .label-button").tea_labelize({parent:".label-edit-options",count:".label-option",model:".label-model"}),a('.tea-inside input[type="checkbox"], .tea-inside input[type="radio"]').tea_checkit({container:".inside",closest:"label",selected:"selected"}),a('.tea-connection input[type="checkbox"]').tea_checkit({container:".tea-connection",closest:"label",selected:"is-active"}),a('.tea_to_wrap .checkall input[type="checkbox"]').tea_checkall({container:".checkboxes",items:'.inside input[type="checkbox"]',closest:"label",selected:"selected"}),a('.tea-connect .checkall input[type="checkbox"]').tea_checkall({container:".tea-connect",items:'.tea-connection input[type="checkbox"]',closest:"label",selected:"is-active"}),a(".tea-inside .color-picker").tea_color(),a('.tea-inside input[type="range"]').tea_range(),a.each(a(".tea-inside.social"),function(){var b=a(this);b.tea_social({content:"fieldset",label:b.attr("data-id"),items:"fieldset > div",modal:"#modal-socials"})}),a(".tea-inside .elastica-template").on("click",function(b){b.preventDefault();a(this);a("#modal-elasticsearch").tea_modal()}),a.each(a(".tea-inside.gallery"),function(){var b=a(this);b.tea_gallery({wpid:null,media:wp.media,title:b.attr("data-title")||"Gallery"})}),a.each(a(".tea-inside.background .bg-upload"),function(){var b=a(this);b.tea_upload({wpid:null,media:wp.media,multiple:!1,title:b.attr("data-title")||"Media",type:"image"})}),a.each(a(".tea-inside.upload"),function(){var b=a(this);b.tea_upload({wpid:null,media:wp.media,multiple:b.attr("data-multiple")||!1,title:b.attr("data-title")||"Media",type:b.attr("data-type")||"image"})}),a.each(a(".tea_to .tea-screen-meta"),function(){var b=a(this),c=b.find(".contextual-help-tabs"),d=b.find(".contextual-help-tabs-wrap");c.find("ul a").bind("click",function(b){b.preventDefault();var e=a(this),f=a(""+e.attr("href"));c.find("ul li.active").removeClass("active"),d.find("> .active").removeClass("active"),e.closest("li").addClass("active"),f.addClass("active")})})})}(jQuery);